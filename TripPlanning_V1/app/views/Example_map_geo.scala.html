@(message:String)
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #map {
            height: 400px;
            width: 100%;
        }
    </style>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="@routes.Assets.versioned("javascripts/jquery.min.js")" ></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDXzvtFluKI4_o5HtmGmKYXDlWv0DDzqKI&callback=initMap"
    async defer></script>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>

    <h1>My Google Map</h1>
    <div id="map"></div>

    <div class="container">
        <h2 id="text-center">Enter location:</h2>
        <form id="myform">
            <input id="location-input" class="form-control form-control-lg" type="text" />
            <br>
            <button type="submit" class="btn btn-primary btn-block">Submit</button>
        </form>
        <div class="card-block" id="formatted-address"></div>
        <div class="card-block" id="address-components"></div>
        <div class="card-block" id="geometry"></div>
    </div>

<script>
    initMap = function(){

        //map options
        var options = {
            zoom:13,
            center:{lat: 42.3601, lng: -71.0589 }
        };

        //new map
        var map = new google.maps.Map(document.getElementById("map"),options)

        //Listen for click on map
        google.maps.event.addListener(map,"click",function(event){
            //add marker
            addMarker({coords:event.latLng});
        });


        //add marker function
        addMarker = function(props){
            var marker = new google.maps.Marker({
                position:props.coords,
                //icon:props.iconImage,
                map:map
            });
            //check for custom icon
            if(props.iconImage){
                //set icon image
                marker.setIcon(props.iconImage);
            }
            //check for content
            if(props.content){
                var infoWindow = new google.maps.InfoWindow({
                    content:props.content
                });
                marker.addListener('click',function(){
                    infoWindow.open(map,marker);
                })
            }
        }

        //Array of markers
        var markers = [
            {
                coords: {lat:42.3398, lng:-71.0892},
                iconImage:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
                content:'<h1>northeastern unviersity</h1>'
            },
            {
                coords: {lat:42.3770, lng:-71.1167},
                iconImage:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png',
                content:'<h1>havard unviersity</h1>'
            }
        ];

        //Loop through markers
        for(var i=0; i<markers.length; i++){
            addMarker(markers[i]);
        }


    };


    //get location information data from a input
    function geocode(e){
        //prevent actual submit
        e.preventDefault();
        var location = document.getElementById("location-input").value;
        axios.get("https://maps.googleapis.com/maps/api/geocode/json",{
            params:{
                address:location,
                key:'AIzaSyDXzvtFluKI4_o5HtmGmKYXDlWv0DDzqKI'
            }
        })
                .then(function(response){

                    console.log(response);

                    //Formatted Address
                    var formattedAddress = response.data.results[0].formatted_address;
                    var formattedAddressOutput =
                            "<ul class=\"list-group\">\n" +
                            "            <li class=\"list-group-item\" id=\"formatted-address\">"+formattedAddress+"</li>\n" +
                            "</ul>"


                    //address components
                    var addressComponents = response.data.results[0].address_components;
                    var addressComponentsOutPut = '<ul class="list-group">';
                    for(var i=0; i< addressComponents.length; i++){
                        addressComponentsOutPut +=
                                "<li class='list-group-item'><strong>"+addressComponents[i].types[0]+"</strong>: "+addressComponents[i].long_name+"</li>"
                                + "</ul>";

                    }

                    //Geometry
                    var lat= response.data.results[0].geometry.location.lat;
                    var lng= response.data.results[0].geometry.location.lng;
                    var geometryOutPut =
                            "<ul class='list-group'>" +
                            "<li class='list-group-item' id='formatted-address'><Strong>Latitude: </strong>"+lat+"</li>\n" +
                            "<li class='list-group-item' id='formatted-address'><Strong>Longitude: </strong>"+lng+"</li>\n" +
                            "</ul>";


                    //Out put to web
                    document.getElementById("formatted-address").innerHTML = formattedAddressOutput;
                    document.getElementById("address-components").innerHTML = addressComponentsOutPut;
                    document.getElementById("geometry").innerHTML = geometryOutPut;
                })
        .catch(function(e){
            console.log(e);
        })

    };
    //geocode();

    //Get Locatoin form
    var doc = document
    var locationForm = document.getElementById("myform");
    alert(locationForm);
    //listen for submition
    locationForm.addEventListener('submit',geocode);


</script>

    @* Load a map *@

</body>
</html>